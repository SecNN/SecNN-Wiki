# Directory Browsing

## 0x01 漏洞描述

目录浏览漏洞主要是由于配置不当，当访问到某一目录中没有索引文件时（或者手工开启了目录浏览功能）即把当前目录中的所有文件及相关下层目录一一在页面中显示出来。通过该漏洞攻击者可获得服务器上的文件目录结构，从而下载敏感文件（备份文件存放地址、数据文件、数据库文件、源代码文件等）。

## 0x02 常见应用场景

如果web容器开启了目录浏览功能，那么攻击者通过浏览其他目录就有可能查看到该目录下的所有目录文件及结构，比如常见的上传目录、备份目录、静态资源目录、第三方扩展目录等。

## 0x03 漏洞危害

攻击者通过该漏洞可以看到服务器上的文件目录结构，获取应用系统文件敏感文件，比如备份文件、数据库文件、源代码文件等，导致应用程序大量敏感信息泄漏。

## 0x04 修复建议

* 通过修改配置文件，去除中间件（如IIS、apache、nginx）的文件目录索引功能。

> **IIS：**只需要进入IIS管理器，选择对应的网站，然后在功能视图中的IIS项双击【目录浏览】，然后在操作的地方点击【禁用】即可。另外也可以在网站目录下找到web.config文件，将`<directoryBrowse enabled="true" />`中的true修改为false。
>
> **Apache：**在配置文件中将`Options Indexes FollowSymLinks`在`Indexes`前面加上-符号。即： `Options -Indexes FollowSymLinks`。
>
> **Nginx：**在配置文件中将`autoindex on;`去掉或者直接注释掉即可。

* 设置文件目录的访问权限。
* 在每个目录下创建一个空的`index.html`页面。